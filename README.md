# MarketNarrative - å¸‚åœºå™äº‹è¿½è¸ªç³»ç»Ÿ

> ğŸ“Š è®©Kçº¿å›¾ä¼š"è¯´è¯"çš„æŠ•èµ„ç ”ç©¶å·¥å…·

## ğŸ¯ ä¸ºä»€ä¹ˆåšè¿™ä¸ªé¡¹ç›®ï¼Ÿ

ä½œä¸ºä¸€åæœ‰16å¹´ç»éªŒçš„æŠ•èµ„ä»ä¸šè€…ï¼Œæˆ‘åœ¨æ—¥å¸¸ç ”ç©¶ä¸­åå¤é‡åˆ°ä¸‰ä¸ªç—›ç‚¹ï¼š

### ç—›ç‚¹ 1ï¼šæŠ€æœ¯é¢å’ŒåŸºæœ¬é¢çš„å‰²è£‚
- çœ‹åˆ°"æ”¾é‡æ»æ¶¨"ç­‰å¼‚å¸¸Kçº¿ï¼Œä½†ä¸çŸ¥é“é‚£å¤©å‘ç”Ÿäº†ä»€ä¹ˆ
- è¯»å®Œå…¬å¸å…¬å‘Šå’Œæ–°é—»ï¼Œå´éš¾ä»¥ä¸è‚¡ä»·èµ°åŠ¿å»ºç«‹å…³è”
- **ä»£ä»·**ï¼šé”™è¿‡ä¿¡å·ï¼Œæˆ–åšå‡ºé”™è¯¯å½’å› 

### ç—›ç‚¹ 2ï¼šæŠ•èµ„é€»è¾‘éš¾ä»¥å¤ç›˜
- ä¸€ä¸ªæŠ•èµ„ä¸»é¢˜ï¼Œä»"æå‡º â†’ è´¨ç–‘ â†’ éªŒè¯ â†’ æœºæ„åŒ–"çš„å®Œæ•´æ¼”å˜ï¼Œæ²¡æœ‰å¯è§†åŒ–è®°å½•
- åŠå¹´åå›çœ‹ï¼Œåªè®°å¾—"ä¹°äº†/å–äº†"ï¼Œå¿˜äº†"ä¸ºä»€ä¹ˆ"
- **ä»£ä»·**ï¼šç›¸åŒçš„é”™è¯¯åå¤çŠ¯ï¼Œè®¤çŸ¥æ— æ³•æ²‰æ·€

### ç—›ç‚¹ 3ï¼šæŠ€æœ¯æŒ‡æ ‡çš„"ä¸€åˆ€åˆ‡"é—®é¢˜
- ä¼ ç»ŸæŠ€æœ¯åˆ†æç”¨å›ºå®šé˜ˆå€¼ï¼ˆå¦‚"æˆäº¤é‡çªç ´5æ—¥å‡çº¿200%"ï¼‰
- ä½†èŒ…å°å’Œåˆ›ä¸šæ¿å°ç¥¨çš„æ³¢åŠ¨ç‡å·®10å€ï¼Œæ€ä¹ˆèƒ½ç”¨åŒä¸€å¥—è§„åˆ™ï¼Ÿ
- **ä»£ä»·**ï¼šä½æ³¢è‚¡å¤©å¤©æŠ¥è­¦ï¼Œé«˜æ³¢è‚¡æ°¸è¿œæ²‰é»˜

> **MarketNarrative çš„æ ¸å¿ƒç†å¿µ**ï¼šæŠŠæŠ€æœ¯é¢å¼‚å¸¸å’ŒåŸºæœ¬é¢äº‹ä»¶å…³è”èµ·æ¥ï¼Œè®©å¸‚åœºå™äº‹å¯è§†åŒ–ã€å¯è¿½è¸ªã€å¯å¤ç›˜ã€‚

---

## ğŸ’¡ æˆ‘æ˜¯å¦‚ä½•è§£å†³çš„ï¼Ÿ

### 1. è‡ªé€‚åº”å¼‚å¸¸æ£€æµ‹ï¼šä»"å›ºå®šé˜ˆå€¼"åˆ°"åŠ¨æ€åŸºçº¿"

ä¼ ç»Ÿåšæ³•ç”¨å›ºå®šæ•°å€¼åˆ¤æ–­å¼‚å¸¸ï¼Œå¿½ç•¥ä¸ªè‚¡å·®å¼‚ã€‚æˆ‘çš„åšæ³•æ˜¯ï¼š

```
# æ ¸å¿ƒåˆ›æ–°ï¼šåŸºäºå†å²æ³¢åŠ¨ç‡çš„è‡ªé€‚åº”é˜ˆå€¼
threshold = mean + 2 * std_dev  # æ¯åªè‚¡ç¥¨ç‹¬ç«‹è®¡ç®—

# 4ç§å¼‚å¸¸æ£€æµ‹æ¨¡å¼
âœ… ä»·é‡é½å‡ (Price-Volume Surge)    â€” æƒ…ç»ªå…±æŒ¯ä¿¡å·
âœ… æ”¾é‡æ»æ¶¨ (Volume Without Price)  â€” ä¸»åŠ›å‡ºè´§å«Œç–‘
âœ… ç¼©é‡ä¸Šæ¶¨ (Price Without Volume)  â€” å¯èƒ½æ˜¯å‡çªç ´
âœ… æš´è·Œæ£€æµ‹ (Price Crash)           â€” åŸºæœ¬é¢è¸©é›·é¢„è­¦
```

**ä»·å€¼**ï¼šåŒæ ·æ˜¯"æ”¾é‡"ï¼ŒèŒ…å°1.5å€å¯èƒ½å°±æ˜¯å¼‚å¸¸ï¼Œç§‘åˆ›è‚¡3å€æ‰ç®—å¼‚å¸¸â€”â€”ç³»ç»Ÿè‡ªåŠ¨åˆ¤æ–­ã€‚

### 2. è¶‹åŠ¿åŒºé—´åˆ†æï¼šæŠŠKçº¿åˆ‡æˆ"æ•…äº‹æ®µè½"

æŠ•èµ„çš„å…³é”®ä¸æ˜¯çœ‹å•æ ¹Kçº¿ï¼Œè€Œæ˜¯çœ‹"ä¸€æ®µæ—¶é—´çš„å™äº‹"ã€‚æˆ‘è®¾è®¡äº†åŸºäº ZIG æŒ‡æ ‡ + MA50 å‡çº¿çš„è¶‹åŠ¿åˆ†å‰²ç®—æ³•ï¼š

| åŠŸèƒ½             | è¯´æ˜                                                                |
| :--------------- | :------------------------------------------------------------------ |
| **è‡ªåŠ¨åˆ†å‰²åŒºé—´** | ç”¨ ZIG æŒ‡æ ‡è¯†åˆ«è¶‹åŠ¿è½¬æŠ˜ç‚¹ï¼ŒæŠŠè‚¡ä»·åˆ‡æˆ"ä¸Šæ¶¨æ®µ / ä¸‹è·Œæ®µ"              |
| **åŒºé—´ç»Ÿè®¡**     | æ¯æ®µæ˜¾ç¤ºï¼šæŒç»­å¤©æ•°ã€èµ·æ­¢ä»·æ ¼ã€æ¶¨è·Œå¹…                                |
| **å¼‚å¸¸ç‚¹å…³è”**   | è‡ªåŠ¨æŠŠæ£€æµ‹åˆ°çš„å¼‚å¸¸ç‚¹å½’å…¥å¯¹åº”åŒºé—´â€”â€”"è¿™æ®µä¸‹è·ŒæœŸé—´ï¼Œå‘ç”Ÿäº†3æ¬¡æ”¾é‡æ»æ¶¨" |
| **å‚æ•°å¯è°ƒ**     | ZIG é˜ˆå€¼å¯è°ƒæ•´ï¼ˆé»˜è®¤25%ï¼‰ï¼Œé€‚åº”ä¸åŒé£æ ¼çš„å¤ç›˜éœ€æ±‚                   |

**ä»·å€¼**ï¼šçœ‹ä¸€çœ¼å°±çŸ¥é“"è¿™è½®ä¸‹è·Œè·Œäº†å¤šä¹…ã€è·Œäº†å¤šå°‘ã€æœŸé—´å‘ç”Ÿäº†ä»€ä¹ˆ"ã€‚

### 3. äº‹ä»¶-è‚¡ä»·å…³è”ç³»ç»Ÿï¼šæ‹–æ‹½å¼æ³¨é‡Š

æ ¸å¿ƒäº¤äº’æ˜¯"æ‹–æ‹½æ ‡æ³¨"ï¼š
- åœ¨ K çº¿å›¾ä¸Šæ‹–æ‹½é€‰æ‹©æ—¥æœŸèŒƒå›´
- è¾“å…¥äº‹ä»¶ï¼ˆå¦‚"FDAæ‰¹å‡†æ–°è¯"ã€"è¢«åšç©ºæŠ¥å‘Šç‹™å‡»"ï¼‰
- ç³»ç»Ÿè‡ªåŠ¨å…³è”è¯¥äº‹ä»¶ä¸å½“æ—¥è‚¡ä»·æ³¢åŠ¨

**è·¨å‘¨æœŸåŒæ­¥**ï¼šæ—¥Kä¸Šçš„æ³¨é‡Šä¼šè‡ªåŠ¨æ˜ å°„åˆ°å‘¨K/æœˆKï¼Œä¸ç”¨é‡å¤æ ‡æ³¨ã€‚

### 4. è‚¡ç¥¨ä»£ç æ™ºèƒ½è¯†åˆ«

æ”¯æŒå¤šå¸‚åœºçš„è‡ªç”±è¾“å…¥ï¼š

```
âœ… Aè‚¡: 600519ã€000858.SZã€èŒ…å°
âœ… æ¸¯è‚¡: 00700.HKã€è…¾è®¯
âœ… ç¾è‚¡: TSLAã€AAPL
âœ… çº¯æ•°å­—è‡ªåŠ¨æ¨æ–­: 600519 â†’ 600519.SH
```

**ä»·å€¼**ï¼šä¸ç”¨è®°æ ¼å¼ï¼Œæ€ä¹ˆè¾“å…¥éƒ½èƒ½è¯†åˆ«ã€‚

### 5. AI è¾…åŠ©åˆ†æï¼ˆå¯é€‰ï¼‰

é›†æˆ Dify å·¥ä½œæµï¼š
- å½“åˆ›å»ºç©ºç™½æ³¨é‡Šæ—¶ï¼Œå¯ä¸€é”®è°ƒç”¨ AI åˆ†æå½“æ—¥è‚¡ä»·æ³¢åŠ¨
- è¿”å›ç»“æ„åŒ–çš„ä¹°å–ä¿¡å·è§£è¯»ï¼ˆè€Œé"é¢„æµ‹"ï¼‰

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å‰ç«¯å±‚ (Vanilla JS)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ECharts Kçº¿å›¾ â”‚  â”‚  æ³¨é‡Šç¼–è¾‘å™¨   â”‚  â”‚  å¼‚å¸¸æ ‡è®°å™¨   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   åº”ç”¨å±‚ (Flask API)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ å¼‚å¸¸æ£€æµ‹å¼•æ“  â”‚  â”‚ è¶‹åŠ¿åŒºé—´åˆ†æ  â”‚  â”‚ æ³¨é‡ŠåŒæ­¥ç³»ç»Ÿ  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      æ•°æ®å±‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚PostgreSQL/SQLite â”‚      â”‚ Yahoo Finance API â”‚         â”‚
â”‚  â”‚  (æ³¨é‡Šå­˜å‚¨)       â”‚      â”‚   (å®æ—¶è¡Œæƒ…)       â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æŠ€æœ¯é€‰å‹ç†ç”±**ï¼š
- **Flask**ï¼šè½»é‡å¿«é€Ÿï¼Œé€‚åˆä¸ªäººé¡¹ç›®è¿­ä»£
- **Vanilla JS**ï¼šé›¶æ¡†æ¶ä¾èµ–ï¼Œé™ä½ç»´æŠ¤æˆæœ¬
- **ECharts**ï¼šé‡‘èå›¾è¡¨äº‹å®æ ‡å‡†
- **Railway**ï¼šä¸€é”®éƒ¨ç½²ï¼Œé›¶è¿ç»´

---

## ğŸ“– æ–¹æ³•è®ºï¼šæ­£ç¡®çš„ä½¿ç”¨å§¿åŠ¿

> **é‡è¦**ï¼šè¿™ä¸ªå·¥å…·çš„ç›®çš„ä¸æ˜¯"é¢„æµ‹è‚¡ä»·"ï¼Œè€Œæ˜¯**è¾…åŠ©å¤ç›˜å’Œå½’å› **ã€‚

### âœ… æ­£ç¡®ç”¨æ³•

1. **äº‹åå½’å› **ï¼šçœ‹åˆ°æŠ€æœ¯é¢å¼‚å¸¸åï¼Œè¿½æº¯åŸºæœ¬é¢åŸå› 
2. **é€»è¾‘å¤ç›˜**ï¼šè®°å½•è‡ªå·±çš„æ€è€ƒè½¨è¿¹ï¼ŒéªŒè¯æŠ•èµ„æ¡†æ¶
3. **æ¡ˆä¾‹ç§¯ç´¯**ï¼šå»ºç«‹ä¸ªäººçš„"å¸‚åœºå™äº‹æ¡ˆä¾‹åº“"

### âŒ é”™è¯¯æœŸå¾…

- âŒ "å‘Šè¯‰æˆ‘æ˜å¤©æ¶¨è¿˜æ˜¯è·Œ"
- âŒ "è‡ªåŠ¨æ¨èä¹°å–ç‚¹"
- âŒ "100%å‡†ç¡®çš„ä¿¡å·"

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æœ¬åœ°è¿è¡Œ

```bash
# 1. å…‹éš†ä»“åº“
git clone https://github.com/MILKMILKKING/MarketNarrative.git
cd MarketNarrative

# 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python3 -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# 3. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 4. åˆå§‹åŒ–æ•°æ®åº“
python scripts/init_db.py

# 5. å¯åŠ¨åº”ç”¨
python app.py

# 6. è®¿é—®
open http://localhost:5001
```

### Railway ä¸€é”®éƒ¨ç½²

ç‚¹å‡»æŒ‰é’®éƒ¨ç½²åˆ° Railway â†’ è¯¦è§ [docs/DEPLOYMENT.md](docs/DEPLOYMENT.md)

---

## ğŸ”§ ç¯å¢ƒå˜é‡é…ç½®

```env
# Flask å¯†é’¥ï¼ˆå¿…é¡»ï¼‰
SECRET_KEY=your-secret-key-here

# Basic Auth å¯†ç ï¼ˆç”Ÿäº§ç¯å¢ƒæ¨èï¼‰
APP_PASSWORD=your-secure-password

# æ•°æ®åº“ URLï¼ˆå¯é€‰ï¼Œé»˜è®¤ä½¿ç”¨ SQLiteï¼‰
DATABASE_URL=postgresql://user:pass@host:port/dbname

# Dify AI é›†æˆï¼ˆå¯é€‰ï¼‰
DIFY_API_TOKEN=your-dify-token
```

---

## ğŸ“¬ å…³äºä½œè€…

è¿™ä¸ªé¡¹ç›®æºäºæˆ‘ä¸ªäººåœ¨æŠ•èµ„ç ”ç©¶ä¸­çš„çœŸå®ç—›ç‚¹ï¼Œç”¨å…¬å¼€æ•°æ®æ¼”ç¤ºæˆ‘çš„æ€è€ƒæ–¹å¼å’Œè§£å†³é—®é¢˜çš„æ€è·¯ã€‚

å¦‚æœä½ ä¹Ÿæ˜¯æŠ•èµ„ä»ä¸šè€…ï¼Œæ¬¢è¿äº¤æµï¼šğŸ“§ lyrikliu@icloud.com

---

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE)

---

> Made with â¤ï¸ by lyrik | å¦‚æœè§‰å¾—æœ‰ç”¨ï¼Œè¯· â­ Star
